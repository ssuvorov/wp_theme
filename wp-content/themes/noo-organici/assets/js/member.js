!function(o){"use strict";o(document).ready(function(){o("a.bookmark-action").on("click",function(e){e.stopPropagation(),e.preventDefault();var a=o(this),n=a.data("action");return o.ajax({type:"POST",dataType:"json",url:nooMemberL10n.ajax_url,data:{action:n,security:a.data("security"),post_id:a.data("post-id")},success:function(o){1==o.success?("noo_remove_bookmark_post"==n?(a.data("action","noo_bookmark_post"),a.find("i").removeClass("fa-bookmark").addClass("fa-bookmark-o"),a.removeClass("bookmarked")):(a.find("i").removeClass("fa-bookmark-o").addClass("fa-bookmark"),a.addClass("bookmarked"),a.data("action","noo_remove_bookmark_post")),notif({type:"success",msg:o.message,position:"right"})):notif({type:"error",msg:o.message,position:"right"}),"1"===nooMemberL10n.is_manage_page&&window.location.reload()},complete:function(){},error:function(){document.location.reload()}}),!1}),o("form#noo-ajax-login-form").on("submit",function(e){e.stopPropagation(),e.preventDefault();var a=o(this);a.find(".noo-ajax-result").show().html(nooMemberL10n.loadingmessage),o.ajax({type:"POST",dataType:"json",url:nooMemberL10n.ajax_url,data:{action:"noo_ajax_login",log:a.find("#log").val(),pwd:a.find("#pwd").val(),remember:a.find("#rememberme").is(":checked")?!0:!1,security:a.find("#security").val()},success:function(o){a.find(".noo-ajax-result").show().html(o.message),1==o.loggedin&&(null==o.redirecturl?document.location.reload():document.location.href=o.redirecturl)},complete:function(){},error:function(){a.off("submit"),a.submit()}})}),o("form#noo-ajax-register-form").on("submit",function(e){e.stopPropagation(),e.preventDefault();var a=o(this);return a.find("#account_reg_term").length&&!a.find("#account_reg_term").is(":checked")?(a.find("#account_reg_term").tooltip("show"),a.find(".noo-ajax-result").hide(),!1):(a.find("#account_reg_term").tooltip("hide"),a.find(".noo-ajax-result").show().html(nooMemberL10n.loadingmessage),o.ajax({type:"POST",dataType:"json",url:nooMemberL10n.ajax_url,data:{action:"noo_ajax_register",user_login:a.find("#user_login").val(),user_email:a.find("#user_email").val(),user_password:a.find("#user_password").val(),cuser_password:a.find("#cuser_password").val(),security:a.find("#security").val(),user_role:a.find("#user_role").val()},success:function(o){a.find(".noo-ajax-result").show().html(o.message),1==o.success&&(null==o.redirecturl?document.location.reload():document.location.href=o.redirecturl)},complete:function(){},error:function(){a.off("submit"),a.submit()}}),void 0)}),o("form#noo-ajax-subscribe-form").on("submit",function(e){e.stopPropagation(),e.preventDefault();var a=o(this);if(a.find("#account_reg_term").length&&!a.find("#account_reg_term").is(":checked"))return a.find("#account_reg_term").tooltip("show"),a.find(".noo-ajax-result").hide(),!1;a.find("#account_reg_term").tooltip("hide"),a.find(".noo-ajax-result").show().html(nooMemberL10n.loadingmessage);var n=a.serializeArray();o.ajax({type:"POST",dataType:"json",url:nooMemberL10n.ajax_url,data:n,success:function(o){a.find(".noo-ajax-result").show().html(o.message),1==o.success&&(null==o.redirecturl?document.location.reload():document.location.href=o.redirecturl)},complete:function(){},error:function(){a.off("submit"),a.submit()}})}),o("form#noo-ajax-subscribe-form .trial-link").on("click",function(e){e.stopPropagation(),e.preventDefault();var a=o("form#noo-ajax-subscribe-form");return a.find("#trial_mode").val("1"),a.submit(),!1})})}(jQuery);